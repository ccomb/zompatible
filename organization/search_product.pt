<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html 
    xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:tal="http://xml.zope.org/namespaces/tal" 
    xmlns:metal="http://xml.zope.org/namespaces/metal" 
    xml:lang="en" lang="en"
    metal:use-macro="context/@@standard_macros/page"
>

<body metal:fill-slot="body">

<h1>Search result for <i tal:content="context/__name__">organization</i></h1>

<h2>Devices</h2>
<tal:block define="nodevice python: not len(view.getDevices())">
<i tal:condition="nodevice">None</i>
<ul tal:condition="not: nodevice" tal:repeat="device_info view/getDevices">
<li>
    <a tal:content="device_info/device/__name__" tal:attributes="href python: device_info['url']" href="#">some device</a>
    <span tal:condition="python: len(device_info['device'].names)>=2" tal:repeat="name python:device_info['device'].names[1:]" tal:omit-tag=""><span tal:condition="repeat/name/start" tal:omit-tag="">&nbsp;(</span><span tal:content="name" tal:omit-tag="">other name</span><span tal:condition="not:repeat/name/end" tal:omit-tag="">, </span><span tal:condition="repeat/name/end" tal:omit-tag="">)</span>    
    </span>
</li>
</ul>
</tal:block>

<h2>Software</h2>
<tal:block define="no_software python: not len(view.getSoftwares())">
<i tal:condition="no_software">None</i>
<ul tal:condition="not: no_software" tal:repeat="software_info view/getSoftwares">
<li>
    <a tal:content="software_info/software/__name__" tal:attributes="href python: software_info['url']" href="#">some software</a>
    <span tal:condition="python: len(software_info['software'].names)>=2" tal:repeat="name python:software_info['software'].names[1:]" tal:omit-tag=""><span tal:condition="repeat/name/start" tal:omit-tag="">&nbsp;(</span><span tal:content="name" tal:omit-tag="">other name</span><span tal:condition="not:repeat/name/end" tal:omit-tag="">, </span><span tal:condition="repeat/name/end" tal:omit-tag="">)</span>    
    </span>
</li>
</ul>
</tal:block>

</body>
</html>
